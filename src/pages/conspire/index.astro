---
import Layout from '~/layouts/Layout.astro';
import Button from '~/components/Button.astro';
import ConspireChat from '~/components/ConspireChat.astro';
---

<Layout
	content={{
    title: 'Conspire Chat',
    description: "Web-based chat for radical exchange: ephemeral, anonymous, synchronous and free.",
  }}
  >
	<p>
		Instant rooms where voices and files move peer-to-peer, leaving no
		footprints. Built for privacy and digital autonomy, and against
		#chatcontrol
	</p>

	<img src="/images/logos/conspire_text_black.svg" width="66%">

  <h2>🚪🏃 Choose a room</h2>
  <p class="subtitle">
    Join the public reception or create a private, ephemeral room. Rooms are anonymous and self-destruct when
    empty — share private room URLs only with trusted participants. Create your own <code>/room/$(NAME)</code> url or use the
    buttons below:
  </p>
  <div id="starter">
    <input type="button" value="Public Reception">
    <input type="button" value="New Private Room">
  </div>

  <h3 id="rules-heading">📜 Rules</h3>

  <p>
    Conspire is an ephemeral, URL-based chat. Each room is identified by a unique URL — anyone with that
    URL can join.
    Long random URLs are private rooms, share them only with trusted participants.
  </p>

  <ul>
    <li><strong>Ephemeral rooms:</strong> Rooms are created when the first participant joins and are
      deleted automatically when the last participant leaves. No room data survives after deletion.
    </li>
    <li><strong>Access control:</strong> Possession of the room URL grants access. Treat URLs like keys
      and avoid posting them publicly.</li>
    <li><strong>History limits:</strong> Chat history is available to newly joined participants but is
      limited to 100 previous messages and is removed when the room is deleted. No data is stored
      permanently on our server.</li>
  </ul>
  <h3 id="files-heading">💾 File sharing</h3>

  <p>
    Share one or multiple files directly with other participants. Files are streamed peer-to-peer from
    the host's browser to recipients — the server does not receive, inspect, or store file contents.
  </p>

  <ul>
    <li><strong>How it works:</strong> The host announces a file, peers request chunks, and data is
      streamed in small pieces to avoid large memory spikes.</li>
    <li><strong>Availability:</strong> Files remain accessible only while the host keeps sharing. If the
      host cancels sharing or leaves the room, the files become unavailable.</li>
    <li><strong>Browser behavior:</strong> Your browser will prompt you to pick files to share and to
      save incoming files. Sizes and speeds depend on network conditions and peer bandwidth.</li>
  </ul>

  <p>
    Safety tip: only accept files from people you trust and verify file names and sizes before opening
    downloads.
  </p>
</div>

<h3>🐃 Sourcecode</h3>
<p>
Conspire is 100% free and open source software running as a single binary, written in C++ and based on the Oat++ framework. Our source-code is a fork of "can-chat" available on <a href="https://github.com/dyne/conspire">git dyne/conspire</a>.<br/>
May the source be always with you!
</p>
<p>&nbsp;</p>
<ConspireChat />
</Layout>

